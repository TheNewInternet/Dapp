(this["webpackJsonpdapp-instachain"]=this["webpackJsonpdapp-instachain"]||[]).push([[2],{1005:function(e,t){},1192:function(e,t,n){},1193:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),i=n(456),s=n.n(i),r=(n(480),n(96)),o=n(26),u=n(120),l=(n(481),n(1)),d=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("nav",{className:"navbar-item",children:[Object(l.jsx)(r.b,{to:"/",className:"navbar-logo",children:Object(l.jsxs)("div",{className:"logo",children:[Object(l.jsx)("i",{className:"fab fa-ethereum"}),"Instachain"]})}),Object(l.jsxs)("div",{children:[Object(l.jsx)(r.b,{to:"/Social",className:"menu-icon",children:"Social"}),Object(l.jsx)(r.b,{to:"/Market",className:"menu-icon",children:"Market"})]}),Object(l.jsx)("div",{className:"menu-icon ",children:Object(l.jsx)(r.b,{to:"/Connect",className:"navbar-logo",children:Object(l.jsx)("i",{className:"fas fa-link "})})})]})})},j=(n(487),function(){return Object(l.jsx)("div",{className:"product-index",children:"product"})}),f=n(98),b=n(455),m=n(1197),p=(n(488),function(e){var t=e.add,n=Object(u.b)(),a=n.account,i=Object(c.useState)(""),s=Object(f.a)(i,2),r=s[0],o=s[1];var d=Object(c.useState)(""),j=Object(f.a)(d,2),p=j[0],h=j[1],x=Object(c.useState)(!1),O=Object(f.a)(x,2),v=O[0],g=O[1],N=Object(c.useState)(""),w=Object(f.a)(N,2),y=w[0],k=w[1];return Object(l.jsxs)("div",{className:"order-index",children:[Object(l.jsxs)("div",{className:"order-item",children:[Object(l.jsx)("i",{class:"fas fa-user fa-x order-item-title"}),"connected"===n.status?Object(l.jsx)("div",{className:"order-item-title",children:n.account}):Object(l.jsx)("div",{className:"order-item-title",children:" no connect "})]}),Object(l.jsxs)("div",{className:"order-item",children:[Object(l.jsx)("i",{class:"fas fa-pen  order-item-title"}),Object(l.jsx)("input",{className:"order-item-input",type:"text",value:r,onChange:function(e){o(e.target.value)}})]}),Object(l.jsxs)("div",{className:"order-item",children:[Object(l.jsx)("span",{className:"order-item-title"}),v?Object(l.jsxs)("div",{className:"preview",children:[y.includes("video")?Object(l.jsx)("video",{className:"preview-img",src:p,draggable:!1,controls:!0,autoPlay:!0,alt:"uploaded-img"}):Object(l.jsx)("img",{className:"preview-img",id:"uploaded-image",src:p,draggable:!1,alt:"uploaded-img"}),Object(l.jsx)("i",{className:"fas fa-trash-alt fa-2x preview-dlt-icon",onClick:function(){g(!1),h(null)}})]}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"folder",children:[Object(l.jsx)("input",{id:"upload-input",className:"order-img-input",type:"file",accept:".jpg,.jpeg,.gif,.png",onChange:function(e){if(e.target.files&&e.target.files[0]){k(e.target.files[0].type);var t=new FileReader;t.onload=function(e){h(e.target.result),g(!0)},t.readAsDataURL(e.target.files[0])}}}),Object(l.jsx)("label",{htmlFor:"upload-input",children:Object(l.jsx)("i",{className:"fas fa-folder-open fa-10x folder-icon"})})]})})]}),Object(l.jsx)("button",{onClick:function(){t((function(e){return[].concat(Object(b.a)(e),[{id:Object(m.a)(),account:a,caption:r,image:p}])}))},className:"order-btn",children:"Order"})]})}),h=(n(491),function(e){var t=e.itemId,n=e.itemAccount,c=e.itemCaption,a=e.itemImage,i=e.deleteItemData;return Object(l.jsxs)("div",{className:"item-index",children:[Object(l.jsx)("div",{className:"item-index-item-border",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"item-index-item",children:n}),Object(l.jsx)("div",{className:"item-index-item",children:c}),Object(l.jsx)("div",{className:"item-index-img-border",children:Object(l.jsx)("img",{className:"item-index-img",src:a,alt:"upload-img"})})]})}),Object(l.jsx)("button",{onClick:function(){i((function(e){return e.filter((function(e){return e.id!==t}))}))},className:"item-delete-btn",children:Object(l.jsx)("i",{class:"fas fa-times item-delete-icon"})})]})}),x=(n(492),function(e){var t=e.listData,n=e.deleteData;return Object(l.jsx)("div",{className:"list-index",children:t.map((function(e){var t=e.account,c=e.caption,a=e.image,i=e.id;return Object(l.jsx)(h,{itemId:i,itemAccount:t,itemCaption:c,itemImage:a,deleteItemData:n},i)}))})}),O=(n(493),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"market-index",children:[Object(l.jsx)(p,{add:a}),Object(l.jsx)(x,{listData:n,deleteData:a})]})}),v=(n(494),function(){return Object(l.jsx)("div",{className:"home-index",children:"Home"})}),g=(n(495),function(){var e=Object(u.b)(),t=e.getBlockNumber();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"connect-index",children:[Object(l.jsx)("h1",{children:"Connect Wallet"}),"connected"===e.status?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"connect-index-text",children:[Object(l.jsxs)("div",{children:["Account: ",e.account]}),Object(l.jsxs)("div",{children:["Balance: ",e.balance," WEI"]}),Object(l.jsxs)("div",{children:["Type: ",e.type]}),Object(l.jsxs)("div",{children:["Network: ",e.networkName]}),Object(l.jsxs)("div",{children:["BlockNumber: ",t]})]})}),Object(l.jsx)("button",{className:"cnt-wlt-btn",onClick:function(){return e.reset()},children:"Disconnect"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"connect-index-text",children:[Object(l.jsx)("div",{children:"Account: ----------"}),Object(l.jsx)("div",{children:"Balance: ---------- WEI"}),Object(l.jsx)("div",{children:"Type: ---------"}),Object(l.jsx)("div",{children:"Network: ----------"}),Object(l.jsx)("div",{children:"BlockNumber: ----------"})]})}),Object(l.jsx)("button",{className:"cnt-wlt-btn",onClick:function(){return e.connect()},children:"Connect to MetaMask"})]})]})})}),N=n(20),w=n.n(N),y=n(48),k=(n(496),n(9)),C=n(11),S=n(121),P=n(19),F=n(18),D=(n(497),n(73)),I=function(e){Object(P.a)(n,e);var t=Object(F.a)(n);function n(e){var c;return Object(k.a)(this,n),(c=t.call(this,e)).state={caption:"Caption.."},c.handleCaptionChange=c.handleCaptionChange.bind(Object(S.a)(c)),c.handlePhotoChange=c.handlePhotoChange.bind(Object(S.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(S.a)(c)),c}return Object(C.a)(n,[{key:"handleCaptionChange",value:function(e){Object(D.a)(e.target.value)}},{key:"handlePhotoChange",value:function(e){console.log(e.target.files[0]),Object(D.b)(e.target.files[0])}},{key:"handleSubmit",value:function(e){alert("An caption was submitted: "+this.state.caption),e.preventDefault(),Object(D.e)()}},{key:"render",value:function(){return Object(l.jsxs)("form",{onSubmit:this.handleSubmit,className:"post-index",children:[Object(l.jsxs)("label",{className:"post-item",children:[Object(l.jsx)("i",{class:"fas fa-pen post-item-title"}),Object(l.jsx)("textarea",{id:"caption",name:"caption",className:"post-textarea",onChange:this.handleCaptionChange})]}),Object(l.jsx)("label",{className:"post-item",children:Object(l.jsxs)("div",{className:"folder",children:[Object(l.jsx)("input",{type:"file",id:"upload-input",accept:".jpg,.jpeg,.gif,.png",onChange:this.handlePhotoChange}),Object(l.jsx)("label",{htmlFor:"upload-input",children:Object(l.jsx)("i",{className:"fas fa-folder-open fa-10x folder-icon"})})]})}),Object(l.jsx)("input",{type:"submit",value:"Submit",className:"post-submit-btn"})]})}}]),n}(a.a.Component);n(1192);function M(e){var t=e.posts.map((function(e){return Object(l.jsx)("div",{className:"blog-index",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:e.src,alt:"",className:"blog-index-img"}),Object(l.jsx)("div",{className:"blog-index-img-border",children:Object(l.jsx)("div",{className:"blog-index-item",children:e.caption})})]},Object(m.a)())})}));return Object(l.jsx)("div",{children:t})}var B=[],A=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)();case 2:B=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A();var T=function(){return Object(l.jsx)("div",{className:"feed-index",children:Object(l.jsx)(M,{posts:B})})},E=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(D.c)();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();E();var H=function(){return Object(l.jsxs)("div",{className:"social-index",children:[Object(l.jsx)(I,{}),Object(l.jsx)(T,{})]})};var R=function(){return Object(l.jsx)(u.a,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",exact:!0,component:v}),Object(l.jsx)(o.a,{path:"/Product",exact:!0,component:j}),Object(l.jsx)(o.a,{path:"/Market",exact:!0,component:O}),Object(l.jsx)(o.a,{path:"/Social",exact:!0,component:H}),Object(l.jsx)(o.a,{path:"/Connect",exact:!0,component:g})]})]})})};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(R,{})}),document.getElementById("root"))},141:function(e,t,n){"use strict";var c=n(184);t.a=new c.a.eth.Contract([{anonymous:!1,inputs:[],name:"NewPost",type:"event"},{inputs:[],name:"getCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getHash",outputs:[{internalType:"string",name:"img",type:"string"},{internalType:"string",name:"text",type:"string"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_img",type:"string"},{internalType:"string",name:"_text",type:"string"}],name:"sendHash",outputs:[],stateMutability:"nonpayable",type:"function"}],"0x21D1a24521Bb8bb8cabD4a8FE0B0d6C673F49e38")},184:function(e,t,n){"use strict";var c,a=n(499);if(window.ethereum){var i=new a(window.ethereum);try{window.ethereum.enable(),c=i}catch(s){alert("Please allow access for the app to work")}}else window.web3?c=new a(a.currentProvider):console.log("Non-Ethereum browser detected. You should consider trying MetaMask!");t.a=c},251:function(e,t){},267:function(e,t,n){"use strict";var c=n(461),a=new(n.n(c).a)({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=a},480:function(e,t,n){},481:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},491:function(e,t,n){},492:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},509:function(e,t){},512:function(e,t){},513:function(e,t){},517:function(e,t){},518:function(e,t){},540:function(e,t){},542:function(e,t){},552:function(e,t){},554:function(e,t){},563:function(e,t){},565:function(e,t){},581:function(e,t){},612:function(e,t){},613:function(e,t){},677:function(e,t){},679:function(e,t){},684:function(e,t){},686:function(e,t){},693:function(e,t){},705:function(e,t){},708:function(e,t){},713:function(e,t){},73:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h}));var c=n(20),a=n.n(c),i=n(48),s=n(184),r=n(267),o=n(141),u="",l="",d="",j=function(e){var t=new FileReader;"undefined"!==typeof e?(t.readAsArrayBuffer(e),t.onloadend=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t.result);case 2:l=e.sent;case 3:case"end":return e.stop()}}),e)})))):l=""},f=function(e){d=e},b=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.from(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Uploading on IPFS..."),!0,r.a.add(l).then((function(e){return t=e[0].hash,console.log(t),b(d)})).then((function(e){return r.a.add(e).then((function(e){return e[0].hash}))})).then((function(e){o.a.methods.sendHash(t,e).send({from:u},(function(e,t){"undefined"!==typeof t&&(alert("Storing on Ethereum..."),o.a.once("NewPost",{from:u},(function(){O(),alert("Operation Finished! Refetching...")}))),!1}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){l&&d?m():alert("Please fill in the information.")},h=function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return e.next=4,O();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.eth.getAccounts();case 2:return t=e.sent,n=t[0],u=n,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,c,i,s,r,l,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,t=[],e.next=4,o.a.methods.getCounter().call({from:u});case 4:if(n=e.sent,console.log(n),null===n){e.next=19;break}for(c=[],i=[],s=n;s>=1;s-=1)c.push(o.a.methods.getHash(s).call({from:u}));return e.next=12,Promise.all(c);case 12:for(r=e.sent,l=0;l<r.length;l+=1)i.push(fetch("https://gateway.ipfs.io/ipfs/".concat(r[l].text)).then((function(e){return e.text()})));return e.next=16,Promise.all(i);case 16:for(d=e.sent,j=0;j<r.length;j+=1)t.push({id:j,key:"key".concat(j),caption:d[j],src:"https://gateway.ipfs.io/ipfs/".concat(r[j].img)});!1;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}).call(this,n(0).Buffer)},805:function(e,t){},807:function(e,t){},838:function(e,t){},839:function(e,t){},855:function(e,t){},857:function(e,t){},860:function(e,t){},869:function(e,t){},871:function(e,t){}},[[1193,3,4]]]);
//# sourceMappingURL=main.27c72d92.chunk.js.map